{"version":3,"file":"native-toast.min.js","sources":["dist/nano-assign.common.js","../src/js/index.js"],"sourcesContent":["/*!\n * nano-assign v1.0.0\n * (c) 2017-present egoist <0x142857@gmail.com>\n * Released under the MIT License.\n */\n'use strict';\n\nvar index = function(obj) {\n  var arguments$1 = arguments;\n\n  for (var i = 1; i < arguments.length; i++) {\n    // eslint-disable-next-line guard-for-in, prefer-rest-params\n    for (var p in arguments[i]) { obj[p] = arguments$1[i][p]; }\n  }\n  return obj\n};\n\nmodule.exports = index;\n","import assign from 'nano-assign'\n\nlet prevToast = null\n\nconst icons = {\n  warning: `<svg viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6.25%\"><path d=\"M8 17 C8 12 9 6 16 6 23 6 24 12 24 17 24 22 27 25 27 25 L5 25 C5 25 8 22 8 17 Z M20 25 C20 25 20 29 16 29 12 29 12 25 12 25 M16 3 L16 6\" /></svg>`,\n  success: `<svg viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6.25%\"><path d=\"M2 20 L12 28 30 4\" /></svg>`,\n  info: `<svg viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6.25%\"><path d=\"M16 14 L16 23 M16 8 L16 10\" /><circle cx=\"16\" cy=\"16\" r=\"14\" /></svg>`,\n  error: `<svg viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6.25%\"><path d=\"M16 3 L30 29 2 29 Z M16 11 L16 19 M16 23 L16 25\" /></svg>`\n}\n\nclass Toast {\n  constructor({\n    message = '',\n    position = 'bottom',\n    timeout = 3000,\n    el = document.body,\n    square = false,\n    type = '',\n    debug = false,\n    edge = false,\n    icon = true,\n    closeOnClick = false\n  } = {}) {\n    if (prevToast) {\n      prevToast.destroy()\n    }\n\n    this.message = message\n    this.position = position\n    this.el = el\n    this.timeout = timeout\n    this.closeOnClick = closeOnClick\n\n    this.toast = document.createElement('div')\n    this.toast.className = `native-toast native-toast-${this.position}`\n\n    if (type) {\n      this.toast.className += ` native-toast-${type}`\n\n      if (icon) {\n        this.message = `<span class=\"native-toast-icon-${type}\">${icons[type] || ''}</span>${this.message}`\n      }\n    }\n\n    this.toast.innerHTML = this.message\n\n    if (edge) {\n      this.toast.className += ' native-toast-edge'\n    } else if (square) {\n      this.toast.style.borderRadius = '3px'\n    }\n\n    this.el.appendChild(this.toast)\n\n    prevToast = this\n\n    this.show()\n    if (!debug && timeout > 0) {\n      this.hide()\n    }\n\n    if (this.closeOnClick) {\n      this.toast.addEventListener('click', () => {\n        this.destroy()\n      })\n    }\n  }\n\n  show() {\n    setTimeout(() => {\n      this.toast.classList.add('native-toast-shown')\n    }, 300)\n  }\n\n  hide() {\n    setTimeout(() => {\n      this.destroy()\n    }, this.timeout)\n  }\n\n  destroy() {\n    if (!this.toast) return\n\n    this.toast.classList.remove('native-toast-shown')\n\n    setTimeout(() => {\n      if (this.toast) {\n        this.el.removeChild(this.toast)\n        this.toast = null\n      }\n    }, 300)\n  }\n}\n\nfunction toast(options) {\n  return new Toast(options)\n}\n\nfor (const type of ['success', 'info', 'warning', 'error']) {\n  toast[type] = options => toast(assign({type}, options))\n}\n\nexport default toast\n\n"],"names":["obj","arguments$1","arguments","i","length","p","prevToast","icons","Toast","ref","document","body","destroy","message","position","el","timeout","closeOnClick","toast","createElement","className","this","type","icon","innerHTML","edge","square","style","borderRadius","appendChild","show","debug","hide","addEventListener","options","classList","add","remove","removeChild","const","assign"],"mappings":"uLAOA,MAAY,SAASA,GAGnB,IAFA,IAAIC,EAAcC,UAETC,EAAI,EAAGA,EAAID,UAAUE,OAAQD,IAEpC,IAAK,IAAIE,KAAKH,UAAUC,GAAMH,EAAIK,GAAKJ,EAAYE,GAAGE,GAExD,OAAOL,GCZLM,EAAY,KAEVC,WACM,2TACA,kMACH,6OACC,4NAGJC,WACQC,gEACA,oCACC,yCACD,+BACLC,SAASC,qCACL,+BACF,kCACC,gCACD,gCACA,wCACQ,GAEXL,KACQM,eAGPC,QAAUA,OACVC,SAAWA,OACXC,GAAKA,OACLC,QAAUA,OACVC,aAAeA,OAEfC,MAAQR,SAASS,cAAc,YAC/BD,MAAME,UAAa,6BAA4BC,KAAc,SAE9DC,SACGJ,MAAME,WAAc,iBAAgBE,EAErCC,SACGV,QAAW,kCAAiCS,QAASf,EAAMe,IAAS,cAAYD,KAAa,eAIjGH,MAAMM,UAAYH,KAAKR,QAExBY,OACGP,MAAME,WAAa,qBACfM,SACJR,MAAMS,MAAMC,aAAe,YAG7Bb,GAAGc,YAAYR,KAAKH,SAEbG,UAEPS,QACAC,GAASf,EAAU,QACjBgB,OAGHX,KAAKJ,mBACFC,MAAMe,iBAAiB,qBACrBrB,aA+Bb,SAASM,EAAMgB,UACN,IAAI1B,EAAM0B,GA3BjBJ,+DAESZ,MAAMiB,UAAUC,IAAI,uBACxB,MAGLJ,+DAESpB,WACJS,KAAKL,UAGVJ,0CACOS,KAAKH,aAELA,MAAMiB,UAAUE,OAAO,4CAGtBhB,EAAKH,UACFH,GAAGuB,YAAYjB,EAAKH,SACpBA,MAAQ,OAEd,OAQP,IAAKqB,IAAMjB,KAAS,UAAW,OAAQ,UAAW,WAC1CA,YAAQY,UAAWhB,EAAMsB,WAAeN"}